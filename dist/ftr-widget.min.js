!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["flytree-widget"]=t():e["flytree-widget"]=t()}(window,(function(){return function(e){var t=window.webpackHotUpdateflytree_widget;window.webpackHotUpdateflytree_widget=function(e,n){!function(e,t){if(m[e]&&b[e]){for(var n in b[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(f[n]=t[n]);0==--w&&0===y&&j()}}(e,n),t&&t(e,n)};var n,r=!0,o="2dd332da3d72fa4de81e",i={},a=[],c=[];function s(e){var t=S[e];if(!t)return E;function r(r){return t.hot.active?(S[r]?-1===S[r].parents.indexOf(e)&&S[r].parents.push(e):(a=[e],n=r),-1===t.children.indexOf(r)&&t.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+e),a=[]),E(r)}for(var o in E)Object.prototype.hasOwnProperty.call(E,o)&&"e"!==o&&"t"!==o&&Object.defineProperty(r,o,function(e){return{configurable:!0,enumerable:!0,get:function(){return E[e]},set:function(t){E[e]=t}}}(o));return r.e=function(e){return"ready"===l&&d("prepare"),y++,E.e(e).then(t,(function(e){throw t(),e}));function t(){y--,"prepare"===l&&(g[e]||O(e),0===y&&0===w&&j())}},r.t=function(e,t){return 1&t&&(e=r(e)),E.t(e,-2&t)},r}var p=[],l="idle";function d(e){l=e;for(var t=0;t<p.length;t++)p[t].call(null,e)}var u,f,h,v,w=0,y=0,g={},b={},m={};function x(e){return+e+""===e?+e:e}function k(e){if("idle"!==l)throw new Error("check() is only allowed in idle status");return r=e,d("check"),t=(t=1e4)||1e4,new Promise((function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,i=E.p+""+o+".hot-update.json";r.open("GET",i,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+i+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(t){return void n(t)}e(t)}}})).then((function(e){return e?(b={},g={},m=e.c,h=e.h,d("prepare"),e=new Promise((function(e,t){u={resolve:e,reject:t}})),f={},O(0),"prepare"===l&&0===y&&0===w&&j(),e):(d(P()?"ready":"idle"),null)}));var t}function O(e){var t,n;m[e]?(b[e]=!0,w++,t=e,(n=document.createElement("script")).charset="utf-8",n.src=E.p+""+t+"."+o+".hot-update.js",document.head.appendChild(n)):g[e]=!0}function j(){d("ready");var e=u;if(u=null,e)if(r)Promise.resolve().then((function(){return L(r)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t,n=[];for(t in f)Object.prototype.hasOwnProperty.call(f,t)&&n.push(x(t));e.resolve(n)}}function L(t){if("ready"!==l)throw new Error("apply() is only allowed in ready status");return function t(r){var c,s,p,l;function u(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));0<r.length;){var o=r.pop(),i=o.id,a=o.chain;if((l=S[i])&&(!l.hot._selfAccepted||l.hot._selfInvalidated)){if(l.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:i};if(l.hot._main)return{type:"unaccepted",chain:a,moduleId:i};for(var c=0;c<l.parents.length;c++){var s=l.parents[c],p=S[s];if(p){if(p.hot._declinedDependencies[i])return{type:"declined",chain:a.concat([s]),moduleId:i,parentId:s};-1===t.indexOf(s)&&(p.hot._acceptedDependencies[i]?(n[s]||(n[s]=[]),w(n[s],[i])):(delete n[s],t.push(s),r.push({chain:a.concat([s]),id:s})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}P();var y={},g=[],b={},k=function(){console.warn("[HMR] unexpected require("+j.moduleId+") to disposed module")};for(var O in f)if(Object.prototype.hasOwnProperty.call(f,O)){var j;H=x(O);var L=!1,_=!1,M=!1,D="";switch((j=f[O]?u(H):{type:"disposed",moduleId:O}).chain&&(D="\nUpdate propagation: "+j.chain.join(" -> ")),j.type){case"self-declined":r.onDeclined&&r.onDeclined(j),r.ignoreDeclined||(L=new Error("Aborted because of self decline: "+j.moduleId+D));break;case"declined":r.onDeclined&&r.onDeclined(j),r.ignoreDeclined||(L=new Error("Aborted because of declined dependency: "+j.moduleId+" in "+j.parentId+D));break;case"unaccepted":r.onUnaccepted&&r.onUnaccepted(j),r.ignoreUnaccepted||(L=new Error("Aborted because "+H+" is not accepted"+D));break;case"accepted":r.onAccepted&&r.onAccepted(j),_=!0;break;case"disposed":r.onDisposed&&r.onDisposed(j),M=!0;break;default:throw new Error("Unexception type "+j.type)}if(L)return d("abort"),Promise.reject(L);if(_)for(var H in b[H]=f[H],w(g,j.outdatedModules),j.outdatedDependencies)Object.prototype.hasOwnProperty.call(j.outdatedDependencies,H)&&(y[H]||(y[H]=[]),w(y[H],j.outdatedDependencies[H]));M&&(w(g,[j.moduleId]),b[H]=k)}var I,R=[];for(s=0;s<g.length;s++)H=g[s],S[H]&&S[H].hot._selfAccepted&&b[H]!==k&&!S[H].hot._selfInvalidated&&R.push({module:H,parents:S[H].parents.slice(),errorHandler:S[H].hot._selfAccepted});d("dispose"),Object.keys(m).forEach((function(e){!1===m[e]&&function(e){delete installedChunks[e]}(e)}));for(var T,A,C=g.slice();0<C.length;)if(H=C.pop(),l=S[H]){var z={},F=l.hot._disposeHandlers;for(p=0;p<F.length;p++)(c=F[p])(z);for(i[H]=z,l.hot.active=!1,delete S[H],delete y[H],p=0;p<l.children.length;p++){var q=S[l.children[p]];q&&0<=(I=q.parents.indexOf(H))&&q.parents.splice(I,1)}}for(H in y)if(Object.prototype.hasOwnProperty.call(y,H)&&(l=S[H]))for(A=y[H],p=0;p<A.length;p++)T=A[p],0<=(I=l.children.indexOf(T))&&l.children.splice(I,1);for(H in d("apply"),void 0!==h&&(o=h,h=void 0),f=void 0,b)Object.prototype.hasOwnProperty.call(b,H)&&(e[H]=b[H]);var U=null;for(H in y)if(Object.prototype.hasOwnProperty.call(y,H)&&(l=S[H])){A=y[H];var B=[];for(s=0;s<A.length;s++)T=A[s],(c=l.hot._acceptedDependencies[T])&&-1===B.indexOf(c)&&B.push(c);for(s=0;s<B.length;s++){c=B[s];try{c(A)}catch(t){r.onErrored&&r.onErrored({type:"accept-errored",moduleId:H,dependencyId:A[s],error:t}),r.ignoreErrored||(U=U||t)}}}for(s=0;s<R.length;s++){var N=R[s];H=N.module,a=N.parents,n=H;try{E(H)}catch(c){if("function"==typeof N.errorHandler)try{N.errorHandler(c)}catch(t){r.onErrored&&r.onErrored({type:"self-accept-error-handler-errored",moduleId:H,error:t,originalError:c}),U=(U=r.ignoreErrored?U:U||t)||c}else r.onErrored&&r.onErrored({type:"self-accept-errored",moduleId:H,error:c}),r.ignoreErrored||(U=U||c)}}return U?(d("fail"),Promise.reject(U)):v?t(r).then((function(e){return g.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e})):(d("idle"),new Promise((function(e){e(g)})))}(t=t||{})}function P(){return v&&(f=f||{},v.forEach(_),v=void 0,1)}function _(t){Object.prototype.hasOwnProperty.call(f,t)||(f[t]=e[t])}var S={};function E(t){if(S[t])return S[t].exports;var r,o,u=S[t]={i:t,l:!1,exports:{},hot:(o={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:n!==(r=t),active:!0,accept:function(e,t){if(void 0===e)o._selfAccepted=!0;else if("function"==typeof e)o._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)o._acceptedDependencies[e[n]]=t||function(){};else o._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)o._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)o._declinedDependencies[e[t]]=!0;else o._declinedDependencies[e]=!0},dispose:function(e){o._disposeHandlers.push(e)},addDisposeHandler:function(e){o._disposeHandlers.push(e)},removeDisposeHandler:function(e){0<=(e=o._disposeHandlers.indexOf(e))&&o._disposeHandlers.splice(e,1)},invalidate:function(){switch(this._selfInvalidated=!0,l){case"idle":(f={})[r]=e[r],d("ready");break;case"ready":_(r);break;case"prepare":case"check":case"dispose":case"apply":(v=v||[]).push(r)}},check:k,apply:L,status:function(e){if(!e)return l;p.push(e)},addStatusHandler:function(e){p.push(e)},removeStatusHandler:function(e){0<=(e=p.indexOf(e))&&p.splice(e,1)},data:i[r]},n=void 0,o),parents:(c=a,a=[],c),children:[]};return e[t].call(u.exports,u,u.exports,s(t)),u.l=!0,u.exports}return E.m=e,E.c=S,E.d=function(e,t,n){E.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},E.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},E.t=function(e,t){if(1&t&&(e=E(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(E.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)E.d(n,r,function(t){return e[t]}.bind(null,r));return n},E.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return E.d(t,"a",t),t},E.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},E.p="",E.h=function(){return o},s(9)(E.s=9)}([function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];return r?t&&"function"==typeof btoa?(e=function(e){return e=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),e="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e),"/*# ".concat(e," */")}(r),t=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")})),[n].concat(t).concat([e]).join("\n")):[n].join("\n"):n}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var c=0;c<e.length;c++){var s=[].concat(e[c]);r&&o[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},function(e,t,n){"use strict";e.exports=function(e,t){return t=t||{},"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,t){e.exports="data:image/svg+xml,%3csvg width='14' height='13' viewBox='0 0 14 13' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3crect width='14' height='13' fill='white'/%3e %3cpath d='M7 1L8.854 4.6204L13 5.20452L10 8.02103L10.708 12L7 10.1204L3.292 12L4 8.02103L1 5.20452L5.146 4.6204L7 1Z' fill='%23F5F6F8' stroke='%23F5F6F8' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3e %3c/svg%3e"},function(e,t){e.exports="data:image/svg+xml,%3csvg width='14' height='13' viewBox='0 0 14 13' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3crect width='14' height='13' fill='white'/%3e %3cg clip-path='url(%23clip0)'%3e %3crect width='7' height='13' fill='white'/%3e %3cpath d='M7 1L8.854 4.6204L13 5.20452L10 8.02103L10.708 12L7 10.1204L3.292 12L4 8.02103L1 5.20452L5.146 4.6204L7 1Z' fill='%23E8C547' stroke='%23E8C547' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3e %3c/g%3e %3cg clip-path='url(%23clip1)'%3e %3crect width='7' height='13' transform='translate(7)' fill='white'/%3e %3cpath d='M7 1L8.854 4.6204L13 5.20452L10 8.02103L10.708 12L7 10.1204L3.292 12L4 8.02103L1 5.20452L5.146 4.6204L7 1Z' fill='%23F5F6F8' stroke='%23F5F6F8' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3e %3c/g%3e %3cdefs%3e %3cclipPath id='clip0'%3e %3crect width='7' height='13' fill='white'/%3e %3c/clipPath%3e %3cclipPath id='clip1'%3e %3crect width='7' height='13' fill='white' transform='translate(7)'/%3e %3c/clipPath%3e %3c/defs%3e %3c/svg%3e"},function(e,t){e.exports="data:image/svg+xml,%3csvg width='14' height='13' viewBox='0 0 14 13' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3crect width='14' height='13' fill='white'/%3e %3cpath d='M7 1L8.854 4.6204L13 5.20452L10 8.02103L10.708 12L7 10.1204L3.292 12L4 8.02103L1 5.20452L5.146 4.6204L7 1Z' fill='%23E8C547' stroke='%23E8C547' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3e %3c/svg%3e"},function(e,t,n){var r=n(0),o=n(1),i=n(7),a=n(2),c=n(3);n=n(4);t=r(!1),i=o(i),a=o(a),c=o(c),n=o(n),t.push([e.i,"#wrapper div{display:block;background:#fff}#wrapper{left:0;bottom:2vh;z-index:999;display:block;position:fixed;min-width:200px;max-width:320px;color:#1d1d1d;font-style:normal;font-family:sans-serif,Open Sans}#wrapper .top-line{height:8px;background-color:#295a4c}#content{cursor:pointer;font-size:13px;line-height:21px;padding:13px 25px 13px 17px;border-top:1px solid #ebeff2;border-right:1px solid #ebeff2;border-bottom:1px solid #ebeff2}#content .name{font-size:15px;line-height:24px}#content .reviews{color:#8a9f99}#content .rating-wrapper{display:flex}#content .chevron{top:48%;right:5px;width:16px;height:16px;opacity:.5;position:absolute;background-size:contain;background:url("+i+") no-repeat 0 0}#content:hover .chevron{opacity:1}#content .stars{margin:0 10px}#content .stars span{width:16px;height:16px;display:inline-block}#content .stars span.none{background-size:contain;background:url("+a+") no-repeat 0 0}#content .stars span.half{background-size:contain;background:url("+c+") no-repeat 0 0}#content .stars span.full{background-size:contain;background:url("+n+") no-repeat 0 0}",""]),e.exports=t},function(e,t,n){var r=n(0),o=n(1),i=n(2),a=n(3),c=n(4);n=n(8);(t=r(!1)).push([e.i,"@import url(https://fonts.googleapis.com/css2?family=Roboto:wght@300;400&display=swap);"]),i=o(i),a=o(a),c=o(c),n=o(n),t.push([e.i,"#wrapper{left:12px;bottom:12px;width:352px;min-width:auto;z-index:999;display:block;position:fixed;color:#1d1d1d;font-style:normal;font-family:Roboto,sans-serif;font-weight:300}@media (max-width:600px){#wrapper{max-width:calc(100% - 24px)}}#wrapper #content{position:relative;display:flex;cursor:pointer;font-size:13px;color:#8a9f99;line-height:21px;background:#fff;border-radius:16px;box-shadow:0 2px 15px -2px rgba(60,60,60,.25)}#wrapper #content .avatar{width:64px;height:64px;margin:10px;display:flex}#wrapper #content .avatar img{width:100%;height:100%;border-radius:100%;-o-object-fit:contain;object-fit:contain}#wrapper #content .avatar span{width:100%;height:100%;color:#fff;font-size:16px;font-weight:400;border-radius:100%;background:#295a4c;display:flex;align-items:center;justify-content:center}@media (max-width:600px){#wrapper #content .avatar{width:24px;height:24px}#wrapper #content .avatar span{font-size:14px}#wrapper #content .review{display:none}}#wrapper #content .review-wrapper{flex:1;padding:10px 0}#wrapper #content .review-wrapper .name-wrapper{font-weight:400;display:block;font-size:14px;padding-right:6px;box-sizing:border-box}#wrapper #content .review-wrapper .name{color:#5cc0eb;margin-right:5px}#wrapper #content .review-wrapper .rating-str{color:#1d1d1d}#wrapper #content .review-wrapper .review{margin:3px 0 2px;font-weight:300}#wrapper #content .review-wrapper .rating-wrapper{display:flex;font-size:11px;font-weight:300;align-items:center}#wrapper #content .review-wrapper .channel{flex:1}#wrapper #content .review-wrapper .stars{margin:5px 5px 0 0}#wrapper #content .review-wrapper .stars span{width:14px;height:13px;display:inline-block}#wrapper #content .review-wrapper .stars span.none{background-size:cover;background:url("+i+") no-repeat 0 0;margin-right:2px}#wrapper #content .review-wrapper .stars span.half{background-size:cover;background:url("+a+") no-repeat 0 0;margin-right:2px}#wrapper #content .review-wrapper .stars span.full{background-size:cover;background:url("+c+") no-repeat 0 0;margin-right:2px}#wrapper .dismiss{position:absolute;left:0;top:-12px;padding:2px;border-radius:28px;opacity:0;width:20px;height:20px;background-size:contain;background:url("+n+") no-repeat 50%;background-color:#fff;transition:all .1s linear;-webkit-transition:all .1s linear}#wrapper .dismiss:hover{background-color:#d3d3d3}#wrapper #controls{height:0;opacity:0;display:flex;overflow:hidden;margin-top:13px;align-items:flex-end;justify-content:flex-end;transition:all .2s linear;-webkit-transition:all .2s linear;width:100%;position:relative}#wrapper #controls .seemore{position:absolute;right:0;padding:10px 16px;color:#295a4c;cursor:pointer;font-size:12px;border-radius:16px;border:1px solid #295a4c;box-shadow:0 2px 15px -2px rgba(60,60,60,.25)}#wrapper #controls .seemore:hover{color:#fff;background-color:#295a4c}#wrapper #controls .flytreePowered{font-size:12px;position:absolute;left:0;padding:12px}#wrapper #controls .flytreePowered a{text-decoration:none;color:#295a4c}#wrapper #controls .flytreePowered a:hover{text-decoration:underline}#wrapper .full-review{opacity:0;height:0}#wrapper:hover{padding:32px 32px 0 0}#wrapper:hover .dismiss{opacity:1}#wrapper:hover #controls{height:40px;opacity:1}#wrapper:hover .full-review{opacity:1;height:auto;margin:6px 0 10px}#wrapper:hover .review{display:none}#wrapper.dismissed{height:0;overflow:hidden}",""]),e.exports=t},function(e,t){e.exports="data:image/svg+xml,%3csvg width='8' height='14' viewBox='0 0 8 14' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M1 13L7 7L1 1' stroke='%23295A4C' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3e %3c/svg%3e"},function(e,t){e.exports="data:image/svg+xml,%3csvg width='10' height='10' viewBox='0 0 10 10' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M9 1L1 9' stroke='%238A9F99' stroke-linecap='round' stroke-linejoin='round'/%3e %3cpath d='M1 1L9 9' stroke='%238A9F99' stroke-linecap='round' stroke-linejoin='round'/%3e %3c/svg%3e"},function(e,t,n){"use strict";function r(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){var r,o;r=e,t=n[o=t],o in r?Object.defineProperty(r,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[o]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e){var t=e.env,n=e.url,r=e.apiKey,i=e.options,c=void 0===(e=e.done)?function(){}:e;n&&r&&fetch("".concat(a[t||"production"],"/sdk/v1/").concat(n),o({method:"GET",headers:{"X-App-Key":r,"Content-Type":"application/json"}},i)).then((function(e){return e.json().then((function(t){return o({statusCode:e.status},t)}))})).then((function(e){400<=e.statusCode&&e.message&&console.error("Flytree Widget: "+e.message),c(e)})).catch((function(e){console.error("Flytree Widget: "+e.message),c({error:e})}))}n.r(t);var a={development:"http://localhost:3005",staging:"https://flytree-api-staging.herokuapp.com",production:"https://flytree-api-production.herokuapp.com"},c=function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length?arguments[1]:void 0;(e=void 0===(e=t.shopId)?"":e)&&(e=e.replace(/\s+/g,"-").toLowerCase(),i(o(o({},t),{},{done:n,url:"shops/".concat(e)})))},s=n(5);t=n.n(s);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return(d=u()?Reflect.construct:function(e,t,n){var r=[null];return r.push.apply(r,t),r=new(Function.bind.apply(e,r)),n&&f(r,n.prototype),r}).apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=document.createElement("template");function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return(g=b()?Reflect.construct:function(e,t,n){var r=[null];return r.push.apply(r,t),r=new(Function.bind.apply(e,r)),n&&m(r,n.prototype),r}).apply(null,arguments)}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}v.innerHTML="\n  <style>".concat(t.a.toString(),'</style>\n  <div id="wrapper">\n    <div class="top-line"></div>\n    <div id="content">\n      <div class="name"></div>\n      <div class="rating-wrapper">\n        <div class="rating"></div>\n        <div class="stars"></div>\n      </div>\n      <div class="reviews"></div>\n      <div class="chevron"></div>\n    </div>\n  </div>\n'),s=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(r,function(e){var t="function"==typeof Map?new Map:void 0;return function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return d(e,arguments,h(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),f(n,e)}(e)}(HTMLElement));var e,t,n=function(e){var t=u();return function(){var n,r=h(e);return function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?(n=h(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(r);function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this)).attachShadow({mode:"open"}).appendChild(v.content.cloneNode(!0)),e}return e=r,(t=[{key:"renderProfile",value:function(e,t){if(t){var n="https://www.flytree.co/business/"+t.code;this.onclick=function(e){e.stopImmediatePropagation(),e.preventDefault(),e.returnValue=!1,window.open(n,"_blank")};var r=e.querySelector("#content .name"),o=e.querySelector("#content .rating"),i=e.querySelector("#content .stars"),a=e.querySelector("#content .reviews");r.innerHTML=t.name;var c=parseFloat(t.rating||0);if(0<c){o.innerHTML=t.rating;for(var s=0;s<5;s++){var p=document.createElement("span");c-s<1?.15<c-s?p.classList.add("half"):p.classList.add("none"):p.classList.add("full"),i.appendChild(p)}}t=parseInt(t.totalReviews||0),a.innerHTML=1<t?t+" Reviews":t+" Review"}else e.innerHTML=""}},{key:"connectedCallback",value:function(){var e=this,t=this.shadowRoot,n=this.getAttribute("shop-id"),r=this.getAttribute("api-key");if(!n||!r)return this.renderProfile(t,null),void console.info("Hello!! Please use correct API Key and Shop ID");c({apiKey:r,shopId:n,env:this.getAttribute("env")},(function(){return e.renderProfile(t,(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).shop)}))}}])&&l(e.prototype,t),r}(),t=n(6),t=n.n(t);var k=document.createElement("template");k.innerHTML="\n  <style>".concat(t.a.toString(),'</style>\n  <div id="wrapper" class="dismissed">\n    <div id="content">\n      <div class="avatar"></div>\n      <div class="review-wrapper">\n        <div class="name-wrapper">\n          <span class="name"></span>\n          <span class="rating-str"></span>\n        </div>\n        <div class="review"></div>\n        <div class="full-review"></div>\n        <div class="rating-wrapper">\n          <div class="stars"></div>\n          <div class="channel"></div>\n          <div class="powered"></div>\n        </div>\n      </div>\n    <div class="dismiss"></div>\n\n    </div>\n    <div id="controls">\n      <div class="flytreePowered"><a href="https://www.flytree.co">Powered by flytree</a></div>\n      <div class="seemore">See more reviews</div>\n    </div>\n  </div>\n'),t=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(r,function(e){var t="function"==typeof Map?new Map:void 0;return function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return g(e,arguments,x(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),m(n,e)}(e)}(HTMLElement));var e,t,n=function(e){var t=b();return function(){var n,r=x(e);return function(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?(n=x(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments))}}(r);function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this)).attachShadow({mode:"open"}).appendChild(k.content.cloneNode(!0)),e}return e=r,(t=[{key:"renderReview",value:function(e,t){try{var n=t.shop,r=t.reviews,o=r.length*Math.random()|0,i=r[o];if(!i)return;var a=e.querySelector("#wrapper"),c=sessionStorage.getItem("ftrWidgetDismissAt");(!c||36e5<+new Date-c)&&(sessionStorage.removeItem("ftrWidgetDismissAt"),a.classList.remove("dismissed"));var s=e.querySelector(".name");if(s.getAttribute("data-arridx")+""==o+"")return;s.setAttribute("data-arridx",o);var p=e.querySelector(".stars"),l=e.querySelector(".review"),d=e.querySelector(".full-review"),u=e.querySelector(".avatar"),f=e.querySelector(".channel"),h=e.querySelector(".dismiss"),v=e.querySelector(".seemore"),w=e.querySelector(".rating-str");h.onclick=function(e){a.classList.add("dismissed"),sessionStorage.setItem("ftrWidgetDismissAt",+new Date)};var y="https://www.flytree.co/business/"+n.code;v.onclick=function(e){e.stopImmediatePropagation(),e.preventDefault(),e.returnValue=!1,window.open(y,"_blank")};var g,b,m,x=/qrcode/i.test(i.firstName);s.innerHTML=x?"A Customer":i.firstName.replace(/^\w/,(function(e){return e.toUpperCase()})),u.innerHTML="",i.avatar||x?((g=document.createElement("img")).src=x?"https://ik.imagekit.io/flytree/flytree-icon/png/Icon_feYshQ6tna7.png":i.avatar,u.appendChild(g)):(b=i.firstName.substring(0,1).toUpperCase(),(m=document.createElement("span")).innerHTML=b,u.appendChild(m));var k=parseFloat(i.rating||0);if(p.innerHTML="",0<k){w.innerHTML="just left us a ".concat(k," star review");for(var O=0;O<5;O++){var j=document.createElement("span");k-O<1?.15<k-O?j.classList.add("half"):j.classList.add("none"):j.classList.add("full"),p.appendChild(j)}}var L="internal"!==i.channel?i.channel.replace(/^\w/,(function(e){return e.toUpperCase()})):"flytree";f.innerHTML="on ".concat(L);var P=i.message.trim().substring(0,39),_=40<i.message.trim().length?"...":"";l.innerHTML=P+_,d.innerHTML=i.message}catch(e){console.error(e)}}},{key:"randomizeReviews",value:function(e,t){var n;t&&t.shop&&t.reviews&&!(t.reviews.length<1)?(sessionStorage.removeItem("ftrWidgetDismissAt"),(n=this).renderReview(e,t),setInterval((function(){n.renderReview(e,t)}),3e5)):e.innerHTML=""}},{key:"connectedCallback",value:function(){var e=this,t=this.shadowRoot,n=this.getAttribute("shop-id"),r=this.getAttribute("api-key");if(!n||!r)return this.renderProfile(t,null),void console.info("Hello!! Please use correct API Key and Shop ID");c({apiKey:r,shopId:n,env:this.getAttribute("env")},(function(n){e.randomizeReviews(t,n)}))}}])&&y(e.prototype,t),r}(),customElements.define("ftr-shop-badge",s),customElements.define("ftr-review-badge",t)}]).default}));